{"kind":"flat","text":"import pytch\nimport random\n\ndef x_from_idx(idx):\n    return -220 + 40 * idx\n\nclass Background(pytch.Stage):\n    Backdrops = [\"solid-blue.png\"]\n    \n    @pytch.when_stage_clicked\n    def do_sort(self):\n        cursor = Cursor.the_original()\n        bars = Bar.all_instances()\n        random.shuffle(bars)\n        for i, bar in enumerate(bars):\n            bar.move_to_slot(i)\n        cursor.show()\n        correctly_sorted = False\n        while not correctly_sorted:\n            correctly_sorted = True\n            for i in range(len(bars) - 1):\n                cursor.move_to_slot_and_next(i)\n                pytch.wait_seconds(0.25)\n                if bars[i].costume_number > bars[i + 1].costume_number:\n                    correctly_sorted = False\n                    bars[i], bars[i + 1] = bars[i + 1], bars[i]\n                    bars[i].move_to_slot(i)\n                    bars[i + 1].move_to_slot(i + 1)\n                    pytch.wait_seconds(0.25)\n        cursor.hide()\n\nclass Cursor(pytch.Sprite):\n    Costumes = [\"cursor.png\"]\n    \n    def move_to_slot_and_next(self, idx):\n        self.go_to_xy(x_from_idx(idx) + 20, 0)\n\nclass Bar(pytch.Sprite):\n    Costumes = [f\"bar-{h}.png\" for h in range(1, 13)]\n    \n    @pytch.when_green_flag_clicked\n    def setup(self):\n        self.go_to_xy(x_from_idx(0), 0)\n        for i in range(11):\n            pytch.create_clone_of(self)\n            self.go_to_xy(x_from_idx(i+1), 0)\n            self.next_costume()\n            \n    def move_to_slot(self, idx):\n        self.go_to_xy(x_from_idx(idx), 0)\n"}